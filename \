import { getBlogBySlug } from "@/features/blogs/blog.queries";
import BlogView from "./blog-view";
import { notFound } from "next/navigation";

export async function generateStaticParams() {
  return [];
}
export const dynamic = "force-static";

export const revalidate = 3600;

type params = Promise<{ blogSlug: string }>;

const BlogPage = async ({ params }: { params: params }) => {
  const { blogSlug } = await params;
  const result = await getBlogBySlug(blogSlug);
  if (!result.success || !result.data) {
    return notFound();
  }
  const blog = result.data;
  return <BlogView blog={blog} />;
};

export default BlogPage;
